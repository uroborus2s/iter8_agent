# {{项目名称}} 前端架构文档

[[LLM: 除非另有说明，默认路径和文件名为 docs/ui-architecture.md]]

[[LLM: 审查提供的文档，包括PRD、UX-UI规范和主架构文档。专注于提取AI前端工具和开发代理所需的技术实现细节。如果您无法找到且未提供这些文档，请询问用户。]]

## 模板和框架选择

[[LLM: 在进行前端架构设计之前，检查项目是否使用前端起始模板或现有代码库：

1. 审查PRD、主架构文档和头脑风暴简介中是否提到：

   - 前端起始模板（例如，Create React App、Next.js、Vite、Vue CLI、Angular CLI等）
   - UI套件或组件库起始项目
   - 现有前端项目作为基础
   - 管理仪表板模板或其他专门的起始项目
   - 设计系统实现

2. 如果提到前端起始模板或现有项目：

   - 要求用户通过以下方法之一提供访问权限：
     - 起始模板文档的链接
     - 上传/附加项目文件（对于小项目）
     - 分享项目仓库的链接
   - 分析起始/现有项目以了解：
     - 预安装的依赖和版本
     - 文件夹结构和文件组织
     - 内置组件和实用程序
     - 样式方法（CSS模块、styled-components、Tailwind等）
     - 状态管理设置（如果有）
     - 路由配置
     - 测试设置和模式
     - 构建和开发脚本

- 使用此分析确保您的前端架构与起始项目的模式保持一致

3. 如果没有提到前端起始项目但这是新UI：

   - 基于框架选择，建议适当的起始项目：
     - React: Create React App、Next.js、Vite + React
     - Vue: Vue CLI、Nuxt.js、Vite + Vue
     - Angular: Angular CLI
     - 或者如果适用建议流行的UI模板
   - 解释前端开发的特定好处

4. 如果用户确认不会使用起始模板：
   - 注意需要手动设置所有工具、打包和配置
   - 从头开始进行前端架构

在继续之前记录起始模板决定及其施加的任何约束。]]

### 变更日志

[[LLM: 跟踪文档版本和变更]]

| 日期 | 版本 | 描述 | 作者 |
| :--- | :------ | :---------- | :----- |

## 前端技术栈

[[LLM: 从主架构的技术栈表中提取。本节必须与主架构文档保持同步。呈现本节后，应用 `tasks#advanced-elicitation` 协议]]

### 技术栈表

| 类别              | 技术           | 版本     | 目的     | 理由      |
| :-------------------- | :------------------- | :---------- | :---------- | :------------- |
| **框架**         | {{框架}}        | {{版本}} | {{目的}} | {{选择原因}} |
| **UI库**        | {{UI库}}       | {{版本}} | {{目的}} | {{选择原因}} |
| **状态管理**  | {{状态管理}} | {{版本}} | {{目的}} | {{选择原因}} |
| **路由**           | {{路由库}}  | {{版本}} | {{目的}} | {{选择原因}} |
| **构建工具**        | {{构建工具}}       | {{版本}} | {{目的}} | {{选择原因}} |
| **样式**           | {{样式解决方案}} | {{版本}} | {{目的}} | {{选择原因}} |
| **测试**           | {{测试框架}}   | {{版本}} | {{目的}} | {{选择原因}} |
| **组件库** | {{组件库}}    | {{版本}} | {{目的}} | {{选择原因}} |
| **表单处理**     | {{表单库}}     | {{版本}} | {{目的}} | {{选择原因}} |
| **动画**         | {{动画库}}    | {{版本}} | {{目的}} | {{选择原因}} |
| **开发工具**         | {{开发工具}}        | {{版本}} | {{目的}} | {{选择原因}} |

[[LLM: 根据选择的框架和项目要求填入适当的技术选择。]]

## 项目结构

[[LLM: 基于选择的框架为AI工具定义确切的目录结构。具体说明每种类型文件的位置。生成遵循框架最佳实践和约定的结构。呈现本节后，应用 `tasks#advanced-elicitation` 协议]]

## 组件标准

[[LLM: 基于选择的框架定义组件创建的确切模式。呈现本节后，应用 `tasks#advanced-elicitation` 协议]]

### 组件模板

[[LLM: 生成遵循框架最佳实践的最小但完整的组件模板。包含TypeScript类型、正确的导入和基本结构。]]

### 命名约定

[[LLM: 为选择的框架提供组件、文件、服务、状态管理和其他架构元素的特定命名约定。]]

## 状态管理

[[LLM: 基于选择的框架定义状态管理模式。呈现本节后，应用 `tasks#advanced-elicitation` 协议]]

### 存储结构

[[LLM: 生成适合选择的框架和选定状态管理解决方案的状态管理目录结构。]]

### 状态管理模板

[[LLM: 提供遵循框架推荐模式的基本状态管理模板/示例。包含TypeScript类型和常见操作，如设置、更新和清除状态。]]

## API集成

[[LLM: 基于选择的框架定义API服务模式。呈现本节后，应用 `tasks#advanced-elicitation` 协议]]

### 服务模板

[[LLM: 提供遵循框架约定的API服务模板。包含正确的TypeScript类型、错误处理和异步模式。]]

### API客户端配置

[[LLM: 显示如何为选择的框架配置HTTP客户端，包括身份验证拦截器/中间件和错误处理。]]

## 路由

[[LLM: 基于选择的框架定义路由结构和模式。呈现本节后，应用 `tasks#advanced-elicitation` 协议]]

### 路由配置

[[LLM: 提供适合选择框架的路由配置。包含受保护路由模式、延迟加载（如果适用）和身份验证守卫/中间件。]]

## 样式指南

[[LLM: 基于选择的框架定义样式方法。呈现本节后，应用 `tasks#advanced-elicitation` 协议]]

### 样式方法

[[LLM: 描述适合选择框架的样式方法（CSS模块、Styled Components、Tailwind等）并提供基本模式。]]

### 全局主题变量

[[LLM: 提供适用于所有框架的CSS自定义属性（CSS变量）主题系统。包含颜色、间距、排版、阴影和深色模式支持。]]

## 测试要求

[[LLM: 基于选择的框架定义最小测试要求。呈现本节后，应用 `tasks#advanced-elicitation` 协议]]

### 组件测试模板

[[LLM: 使用框架推荐的测试库提供基本组件测试模板。包含渲染测试、用户交互测试和模拟的示例。]]

### 测试最佳实践

1. **单元测试**: 独立测试单个组件
2. **集成测试**: 测试组件交互
3. **E2E测试**: 测试关键用户流程（使用Cypress/Playwright）
4. **覆盖率目标**: 目标80%代码覆盖率
5. **测试结构**: 安排-操作-断言模式
6. **模拟外部依赖**: API调用、路由、状态管理

## 环境配置

[[LLM: 基于选择的框架列出所需的环境变量。显示框架的适当格式和命名约定。呈现本节后，应用 `tasks#advanced-elicitation` 协议]]

## 前端开发者标准

### 关键编码规则

[[LLM: 列出防止常见AI错误的基本规则，包括通用规则和框架特定规则。呈现本节后，应用 `tasks#advanced-elicitation` 协议]]

### 快速参考

[[LLM: 创建框架特定的速查表，包含：

- 常用命令（开发服务器、构建、测试）
- 关键导入模式
- 文件命名约定
- 项目特定模式和实用程序]]