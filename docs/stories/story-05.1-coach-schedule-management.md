# 用户故事 05.1: 教练日程管理

## 故事信息
- **故事ID**: 05.1
- **故事标题**: 教练日程管理
- **所属史诗**: 史诗05 - 教练管理
- **优先级**: 高
- **负责团队**: 教练端团队 + 后端开发团队

## 故事描述

**作为** 一名平台签约教练
**我想要** 有一个可视化的移动端日历，来查看和管理我的课程安排
**这样我可以** 清晰地了解我的工作日程，避免时间冲突，并能方便地接受或拒绝新的预约

## 价值说明

### 核心价值
教练是平台的核心资源，他们的时间就是商品。为教练提供一个专业、高效、移动优先的日程管理工具，是提升教练工作效率、保障服务质量、增强教练粘性的基础。一个好的教练日程管理系统，能让教练感觉平台是他们"可靠的私人助理"。

### 业务价值
- **提升教练效率和满意度**: 自动化的日程管理将教练从繁琐的微信、电话沟通中解放出来，可以更专注于教学本身。
- **提高资源利用率**: 清晰的日程视图，有助于教练发现并开放更多的可约时间段，增加供给。
- **保障服务质量**: 避免因教练忘记或搞错时间地点而导致的教学事故，提升用户体验。
- **增强教练粘性**: 专业、高效的管理工具是吸引和留住优质教练的关键因素。

## 详细需求

### 功能需求
1.  **日历视图**:
    *   提供月视图和日视图/周视图的切换。
    *   在月视图中，有课程安排的日期会用圆点等方式进行标记。
    *   在日/周视图中，以时间轴的形式清晰地展示已安排的课程，包括课程类型（团/私）、学员（或人数）、场地。
    *   不同状态的课程（待确认、已确认、已完成）应用不同的颜色标识。
2.  **课程详情查看**:
    *   点击日历中的某个课程，可以弹出卡片或进入详情页，查看该课程的全部信息：学员联系方式、场地导航、课程备注等。
3.  **可用时间设置 (管理供给)**:
    *   教练可以在日历的空白时间段，点击并设置为"可预约"时间。
    *   支持设置重复规则，如"每周六下午2-5点可预约"。
    *   可以方便地将某个已设为"可预约"的时间段，临时关闭或"锁定"。
4.  **新预约处理**:
    *   当有新的预约请求时，日程上会有一个"待确认"的课程项，并有明显的角标提示。
    *   教练可以直接在日程中点击该项，并进行"接受"或"拒绝"操作。
5.  **移动端优先**:
    *   所有视图和操作都必须针对手机屏幕进行优化，方便教练随时随地查看和管理。

### 非功能需求
-   **性能**: 日历视图的加载和切换必须流畅，<1秒。
-   **数据一致性**: 教练的日程必须与用户端看到的"可约时间"100%实时同步。
-   **可用性**: 界面简洁，操作手势符合移动端习惯，关键操作（如接受/拒绝）按钮清晰。

## 验收标准

### 功能验收标准
-   **AC1**: 教练可以在日历中清晰地看到自己所有状态（待确认、已确认等）的课程。
-   **AC2**: 教练可以成功地将自己的空闲时间设置为"可预约"，用户端能同步看到。
-   **AC3**: 教练可以成功地"锁定"某个可预约时间段，用户端同步显示为不可约。
-   **AC4**: 新的预约请求会实时出现在教练的日历上，教练可以成功地接受或拒绝它。

### 用户体验验收标准
-   **UX1**: 日历视图信息清晰，不杂乱，核心信息一目了然。
-   **UX2**: 设置可用时间和处理新预约的操作简单、快捷。
-   **UX3**: 移动端体验良好，单手操作方便。

### 业务目标验收标准
-   **BIZ1**: 教练的日程线上化管理率达到100%。
-   **BIZ2**: 教练的平均预约确认时间缩短至1小时以内。
-   **BIZ3**: 因日程冲突导致的教学事故降为零。

## 依赖关系

### 技术依赖
-   后端用户系统（区分教练和普通用户角色）
-   后端预约和订单系统
-   实时数据同步机制（如WebSocket）
-   消息通知系统

### 业务依赖
-   已完成教练的招募和入驻流程。
-   已对教练进行过系统使用培训。

### 外部依赖
-   消息推送服务

## 风险与缓解措施

### 主要风险
1.  **教练使用意愿低**: 教练习惯于传统的电话或微信沟通，不愿意使用新系统。
    -   **缓解措施**:
        *   加强培训和引导，演示新系统带来的效率提升。
        *   将系统使用率与教练的曝光度、推荐排名等利益挂钩。
        *   持续收集教练反馈，优化产品体验，让工具足够好用。
2.  **数据同步延迟或失败**: 教练在系统上锁定了时间，但用户端仍显示可约，导致预约冲突。
    -   **缓解措施**:
        *   建立高可用的实时同步架构。
        *   在用户最终提交预约时，后端进行最终的、强制的可用性校验，作为最后一道防线。
        *   建立完善的监控和告警机制。

## 成功指标

### 定量指标
-   **教练日活跃度 (DAU)**: >70%的签约教练每日登录使用
-   **平均预约确认耗时**: <1小时
-   **日程同步延迟**: <10秒

### 定性指标
-   **教练满意度**: 教练认为该工具是他们管理工作日程的"必备利器"。
-   **效率提升**: 教练反馈花在沟通和确认日程上的时间大幅减少。

## 变更日志

| 日期 | 版本 | 描述 |
| :--- | :--- | :---------- |
|      | 1.0  | 初始版本创建，定义教练日程管理功能 |