# 故事草稿检查清单

Scrum Master 应使用此检查清单来验证每个故事是否包含足够的上下文，以便开发代理能够成功实施，同时假设开发代理具备合理解决问题的能力。

[[LLM: 初始化指令 - 故事草稿验证

在继续此检查清单之前，请确保您可以访问：

1.  正在验证的故事文档（通常在 `docs/stories/` 中或直接提供）
2.  父级史诗（Parent Epic）的上下文
3.  任何被引用的架构或设计文档
4.  如果此故事建立在先前工作之上，则需访问之前的相关故事

重要提示：此检查清单在实施开始**之前**验证单个故事。

验证原则：

1.  **清晰性 (Clarity)** - 开发人员应理解**要构建什么**。
2.  **上下文 (Context)** - **为什么要构建这个**以及它如何融入整体。
3.  **指导性 (Guidance)** - 应遵循的关键技术决策和模式。
4.  **可测试性 (Testability)** - 如何验证实施是否有效。
5.  **自包含性 (Self-Contained)** - 大部分所需信息都在故事本身中。

请记住：我们假设开发代理是**有能力的**，他们可以：

- 研究文档和代码库
- 做出合理的技术决策
- 遵循既定模式
- 在真正卡住时请求澄清

我们检查的是**充分的指导**，而不是详尽无遗的细节。]]

## 1. 目标与上下文清晰度

[[LLM: 如果没有明确的目标，开发人员会构建错误的东西。请验证：

1.  故事是否说明了要实施的**功能**。
2.  商业价值或用户利益是否清晰。
3.  是否解释了此功能如何融入更大的史诗/产品中。
4.  依赖关系是否明确（例如，"要求故事X完成"）。
5.  成功的标准是具体的，而不是模糊的。]]

- [ ] 故事的目标/目的已明确陈述。
- [ ] 与史诗目标的关联是显而易见的。
- [ ] 解释了故事如何融入整体系统流程。
- [ ] 识别了对先前故事的依赖关系（如果适用）。
- [ ] 业务背景和价值是清晰的。

## 2. 技术实施指导

[[LLM: 开发人员需要足够的技术上下文来开始编码。请检查：

1.  是否提及了需要创建或修改的关键文件/组件。
2.  在技术选型不明显的地方是否已指定。
3.  是否识别了与现有代码的集成点。
4.  是否定义或引用了数据模型或API契约。
5.  是否指出了非标准模式或异常情况。

注意：我们不需要列出每个文件 - 只需列出重要的文件。]]

- [ ] 识别了需要创建/修改的关键文件（不一定详尽无遗）。
- [ ] 提及了此故事特别需要的技术。
- [ ] 对关键的API或接口进行了充分描述。
- [ ] 引用了必要的数据模型或结构。
- [ ] 列出了所需的环境变量（如果适用）。
- [ ] 注明了任何对标准编码模式的例外情况。

## 3. 引用有效性

[[LLM: 引用应该有帮助，而不是制造寻宝游戏。请确保：

1.  引用指向特定章节，而不是整个文档。
2.  解释了每个引用的相关性。
3.  关键信息已在故事中总结。
4.  引用是可访问的（不是损坏的链接）。
5.  如果需要，总结了先前故事的上下文。]]

- [ ] 对外部文档的引用指向特定的相关章节。
- [ ] 总结了先前故事中的关键信息（而不仅仅是引用）。
- [ ] 提供了引用为何相关的上下文。
- [ ] 引用使用一致的格式（例如，`docs/filename.md#section`）。

## 4. 自包含性评估

[[LLM: 故事应尽可能自包含，以避免上下文切换。请验证：

1.  核心需求在故事中，而不仅仅在引用中。
2.  领域术语已解释或从上下文中可以明显看出。
3.  假设被明确陈述。
4.  提及了边缘情况（即使是推迟处理）。
5.  无需阅读10个其他文档就能理解这个故事。]]

- [ ] 包含了所需的核心信息（不过度依赖外部文档）。
- [ ] 明确了隐含的假设。
- [ ] 解释了特定领域的术语或概念。
- [ ] 处理了边缘情况或错误场景。

## 5. 测试指导

[[LLM: 测试确保实施真正有效。请检查：

1.  是否指定了测试方法（单元、集成、端到端）。
2.  是否列出了关键的测试场景。
3.  成功标准是可衡量的。
4.  是否注明了特殊的测试注意事项。
5.  故事中的验收标准是可测试的。]]

- [ ] 概述了所需的测试方法。
- [ ] 识别了关键的测试场景。
- [ ] 定义了成功标准。
- [ ] 注明了特殊的测试注意事项（如果适用）。

## 验证结果

[[LLM: 最终故事验证报告

生成一份简洁的验证报告：

1.  快速摘要
    - 故事就绪状态：准备就绪 / 需要修订 / 受阻
    - 清晰度评分（1-10）
    - 已识别的主要差距

2.  填写验证表，包含：
    - 通过 (PASS): 需求明确满足。
    - 部分通过 (PARTIAL): 有一些差距但可行。
    - 失败 (FAIL): 缺少关键信息。

3.  具体问题（如有）
    - 列出需要修复的具体问题。
    - 提出具体的改进建议。
    - 识别任何阻碍性依赖。

4.  开发人员视角
    - 作为开发人员，你能量根据所写内容实施这个故事吗？
    - 你会有什么问题？
    - 什么可能会导致延误或返工？

请务实 - 完美的文档不存在。专注于一个有能力的开发人员是否能凭此故事取得成功。]]

| 类别 (Category) | 状态 (Status) | 问题 (Issues) |
| :--- | :--- | :--- |
| 1. 目标与上下文清晰度 | _待定_ | |
| 2. 技术实施指导 | _待定_ | |
| 3. 引用有效性 | _待定_ | |
| 4. 自包含性评估 | _待定_ | |
| 5. 测试指导 | _待定_ | |

**最终评估:**

- **准备就绪 (READY)**: 故事为实施提供了足够的上下文。
- **需要修订 (NEEDS REVISION)**: 故事需要更新（见问题列表）。
- **受阻 (BLOCKED)**: 需要外部信息（请指明需要什么信息）。
