# 褐地项目用户故事创建任务

## 任务目的

为可在一次集中开发会话中完成的非常小的褐地增强功能创建单个用户故事。此任务适用于需要现有系统集成感知的最小添加或错误修复。

## 使用场景

**适用此任务的情况：**

- 增强功能可在单个用户故事中完成
- 不需要新架构或重大设计
- 变更完全遵循现有模式
- 集成简单且风险最小
- 变更是独立的且边界清晰

**需要使用 brownfield-create-epic 的情况：**

- 增强功能需要 2-3 个协调的用户故事
- 需要一些设计工作
- 涉及多个集成点

**需要使用完整褐地 PRD/架构流程的情况：**

- 增强功能需要多个协调的用户故事
- 需要架构规划
- 需要重大集成工作

## 执行指令

[[LLM：作为执行此任务的 AI，请严格按照以下步骤进行，确保每个检查项都完成后再进入下一步。这是针对非常小的变更的精简流程。]]

### 1. 快速项目评估

收集现有项目的最少但关键的上下文信息：

**当前系统上下文：**

- [ ] 识别相关的现有功能
- [ ] 记录此区域的技术栈
- [ ] 清晰理解集成点
- [ ] 识别类似工作的现有模式

**变更范围：**

- [ ] 清晰定义具体变更
- [ ] 识别影响边界
- [ ] 建立成功标准

### 2. 用户故事创建

按照以下结构创建单个聚焦的用户故事：

#### 故事标题

{{具体增强功能}} - 褐地添加

#### 用户故事

作为一名 **{{用户类型}}**，
我希望 **{{具体行动/能力}}**，
以便于 **{{明确的益处/价值}}**。

#### 故事上下文

**现有系统集成：**

- 集成对象：{{现有组件/系统}}
- 技术：{{相关技术栈}}
- 遵循模式：{{要遵循的现有模式}}
- 接触点：{{具体集成点}}

#### 验收标准

**功能要求：**

1. {{主要功能要求}}
2. {{次要功能要求（如有）}}
3. {{集成要求}}

**集成要求：**

4. 现有 {{相关功能}} 继续正常工作不变
5. 新功能遵循现有 {{模式}} 模式
6. 与 {{系统/组件}} 的集成保持当前行为

**质量要求：**

7. 变更由适当的测试覆盖
8. 如需要则更新文档
9. 验证现有功能无回归

#### 技术备注

- **集成方法：** {{如何连接到现有系统}}
- **现有模式参考：** {{要遵循的模式的链接或描述}}
- **关键约束：** {{任何重要限制或要求}}

#### 完成定义

- [ ] 满足功能要求
- [ ] 验证集成要求
- [ ] 现有功能回归测试
- [ ] 代码遵循现有模式和标准
- [ ] 测试通过（现有和新增）
- [ ] 如适用则更新文档

### 3. 风险和兼容性检查

**最小风险评估：**

- **主要风险：** {{对现有系统的主要风险}}
- **缓解措施：** {{简单的缓解方法}}
- **回滚：** {{如需要如何撤销}}

**兼容性验证：**

- [ ] 对现有 API 无破坏性变更
- [ ] 数据库变更（如有）仅为增量
- [ ] UI 变更遵循现有设计模式
- [ ] 性能影响可忽略不计

### 4. 验证检查清单

在最终确定故事之前，确认：

**范围验证：**

- [ ] 故事可在一次开发会话中完成
- [ ] 集成方法简单直接
- [ ] 完全遵循现有模式
- [ ] 不需要设计或架构工作

**清晰度检查：**

- [ ] 故事要求明确无歧义
- [ ] 集成点清楚指定
- [ ] 成功标准可测试
- [ ] 回滚方法简单

## 成功标准

用户故事创建成功的标准：

1. 增强功能清晰定义且适合单次会话的范围
2. 集成方法简单直接且低风险
3. 识别现有系统模式并将遵循
4. 回滚计划简单且可行
5. 验收标准包括现有功能验证

## 重要提醒

[[LLM：执行此任务时请注意以下关键点：]]

- 此任务仅适用于**非常小的**褐地变更
- 如果分析过程中复杂性增长，升级到 brownfield-create-epic
- 始终优先考虑现有系统完整性
- 对集成复杂性有疑问时，改用 brownfield-create-epic
- 用户故事应不超过 4 小时的集中开发工作
- 确保所有模板变量 {{}} 都被实际内容替换
- 集成点必须具体明确，不能使用占位符
- 验收标准必须可测试和可验证