# 用户故事 02.3: 私教预约流程

## 故事信息
- **故事ID**: 02.3
- **故事标题**: 私教课程预约
- **所属史诗**: 史诗02 - 核心预约体验
- **优先级**: 高
- **负责团队**: 前端开发团队 + 后端开发团队

## 故事描述

**作为** 一名希望提升个人技术的用户
**我想要** 方便地选择心仪的教练，并预约一个一对一或一对二的私教课程
**这样我可以** 获得针对性的指导，快速提高我的网球水平

## 价值说明

### 核心价值
私教课程是满足用户个性化、高水平训练需求的核心产品，也是平台和教练收入的主要来源。提供一个流畅、可靠的私教预约流程，让用户能轻松找到并"锁定"优质教练资源，是平台吸引和留住高价值用户的关键。

### 业务价值
- **高客单价收入**: 私教课程是平台主要的收入和利润来源。
- **提升用户水平和粘性**: 高质量的私教能有效提升用户技能，从而增加用户对网球运动和平台的长期粘性。
- **打造教练品牌**: 流畅的预约体验有助于优秀教练建立个人品牌和口碑，形成平台的"名师效应"。
- **满足差异化需求**: 满足从初学者到高手不同层次用户的个性化训练需求。

## 详细需求

### 功能需求
1.  **教练发现与选择**:
    *   提供独立的教练列表页，支持按等级、价格、好评率、距离等进行筛选和排序。
    *   每个教练的卡片展示头像、姓名、教龄、等级、价格、一句话简介。
2.  **教练详情与时间选择**:
    *   **教练个人主页**: 展示教练的详细介绍、教学视频、资质证书、学员评价等。
    *   **教练时间表**: 清晰展示该教练未来1-2周的"可约时间段"。用户可以直接在时间表上选择想要预约的时间（如：周六下午2-4点）。
3.  **预约流程 (选择教练后)**:
    *   **选择人数**: 用户选择上课人数（1人或2人）。如果选择2人，后续可触发费用分摊功能 (Story 03.6)。
    *   **选择场地**: 系统推荐该教练常去的场地，或允许用户选择附近的其他可用场地。场地可用性需与教练时间进行双重匹配。
    *   **信息确认**: 进入预约确认页面，清晰列出所有信息：教练、时间、场地、人数、总费用。
    -   **提交预约**: 用户点击"提交预约"，订单创建。
4.  **教练确认机制**:
    *   用户提交预约后，订单状态为"待教练确认"。
    *   系统向教练发送新预约请求的通知。
    *   教练需在规定时间（如2小时）内"接受"或"拒绝"该预约。
    *   教练接受后，系统通知用户支付。教练拒绝，系统通知用户预约失败并说明原因。
5.  **支付与成功**:
    *   用户在收到"教练已确认"通知后，在规定时间（如30分钟）内完成支付。
    -   支付成功后，预约状态变为"预约成功"，系统向双方发送最终确认信息。

### 非功能需求
-   **性能**: 教练时间表的加载和可用性校验要快，响应<2秒。
-   **数据准确性**: 教练和场地的可用时间必须双重校验，保证数据100%准确，避免双重预订。
-   **可靠性**: 通知系统必须可靠，确保教练能及时收到新预约请求，用户能及时收到状态变更。

## 验收标准

### 功能验收标准
-   **AC1**: 用户可以按条件筛选教练，并查看教练的详细主页和可约时间。
-   **AC2**: 用户选择教练、时间、人数、场地后，可以成功提交一个"待确认"的预约。
-   **AC3**: 教练端能收到新预约通知，并可以接受或拒绝。
-   **AC4**: 教练接受后，用户端能收到支付通知，并完成支付。
-   **AC5**: 整个流程中的所有状态变更（待确认、待支付、成功、失败），用户和教练都能收到清晰的通知。

### 用户体验验收标准
-   **UX1**: 教练筛选和时间选择的交互流畅、直观。
-   **UX2**: 预约流程的每一步都有清晰的指引和状态反馈。
-   **UX3**: "待教练确认"的状态有明确的等待时间预期提示（如"教练通常会在2小时内确认"）。

### 业务目标验收标准
-   **BIZ1**: 私教课程的预约成功率（从提交到最终成功）> 80%。
-   **BIZ2**: 教练平均确认时长 < 1小时。
-   **BIZ3**: 私教课程收入占平台总收入的60%以上。

## 依赖关系

### 技术依赖
-   教练管理功能 (Epic 05)，特别是教练日程管理
-   场地信息实时展示 (Story 02.1)
-   支付与交易功能 (Epic 03)
-   费用分摊功能 (Story 03.6) (可选，但强烈建议)
-   消息通知系统

### 业务依赖
-   已有签约教练并录入其信息和可用时间。
-   已制定好私教课程的价格、取消和变更政策。
-   已定义好教练确认预约的SLA（服务水平协议）。

### 外部依赖
-   支付网关
-   消息推送服务

## 风险与缓解措施

### 主要风险
1.  **教练不及时确认**: 教练未在规定时间内响应，导致用户体验差和订单流失。
    -   **缓解措施**:
        *   通过短信、App Push等多种方式强化通知。
        *   建立教练响应率的考核指标，与排名和推荐挂钩。
        *   如果教练超时未确认，系统自动取消并向用户道歉、推荐其他教练，甚至补偿优惠券。
2.  **信息选择错误**: 用户误选了不合适的场地或时间。
    -   **缓解措施**:
        *   在确认页面清晰展示所有信息，让用户检查。
        -   提供便捷的"预约变更"功能 (Story 02.6)。

## 成功指标

### 定量指标
-   **预约成功率**: >80%
-   **教练平均确认时长**: <1小时
-   **支付转化率 (教练确认后)**: >95%

### 定性指标
-   **用户满意度**: 用户对私教预约流程的满意度>4.5/5
-   **教练满意度**: 教练认为该流程能高效管理他们的订单。

## 变更日志

| 日期 | 版本 | 描述 |
| :--- | :--- | :---------- |
|      | 1.0  | 初始版本创建，定义私教课程预约流程 |

## 相关链接

- [史诗02: 核心预约体验](../epics/epic-02-core-booking.md)
- [故事02.1: 场地信息实时展示](story-02.1-venue-realtime-display.md)
- [故事02.2: 团课快速预约](story-02.2-group-class-booking.md)
- [故事04.2: 约课分享邀请](story-04.2-booking-sharing.md)

## 变更日志

| 日期 | 版本 | 描述 | 作者 |
| :--- | :------ | :---------- | :----- |
| 2024-12-27 | 1.0 | 初始版本创建，定义私教预约完整流程 | 姜尚 | 